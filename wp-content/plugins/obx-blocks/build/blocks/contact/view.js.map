{"version":3,"file":"blocks/contact/view.js","mappings":"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","sources":["webpack://obx-blocks/./src/blocks/contact/view.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', function() {\n\n    const forms = document.querySelectorAll('.obx-contact__form form');\n    \n    forms.forEach(form => {\n        if (!form) return;\n        \n        const statusDiv = form.parentElement.querySelector('.form-status');\n        const submitButton = form.querySelector('button[type=\"submit\"]');\n        \n        if (!submitButton) return;\n        \n        const originalButtonText = submitButton.textContent;\n        \n        form.addEventListener('submit', function(e) {\n            e.preventDefault();\n            e.stopPropagation();\n            \n            if (submitButton.disabled) return false;\n            \n            // Disable submit button and show loading state\n            submitButton.disabled = true;\n            submitButton.textContent = 'Sending...';\n            statusDiv.style.display = 'block';\n            statusDiv.className = 'form-status loading';\n            statusDiv.textContent = 'Sending your message...';\n            \n            // Get form data\n            const formData = new FormData(form);\n            formData.append('action', 'submit_contact_form');\n            \n            // Add the security nonce\n            formData.append('security', obx_site.nonce);\n            \n            // Use the global ajax URL\n            const ajaxUrl = obx_site.ajax_url;\n            \n            // Send AJAX request\n            fetch(ajaxUrl, {\n                method: 'POST',\n                credentials: 'same-origin',\n                body: formData\n            })\n            .then(response => {\n                if (!response.ok) {\n                    throw new Error('Network response was not ok');\n                }\n                return response.json();\n            })\n            .then(data => {\n                if (data.success) {\n                    handleSuccess(data.data.message);\n                } else {\n                    throw new Error(data.data.message || 'An error occurred');\n                }\n            })\n            .catch(error => {\n                console.error('Error:', error);\n                handleError(error.message || 'An error occurred. Please try again.');\n            })\n            .finally(() => {\n                submitButton.disabled = false;\n                submitButton.textContent = originalButtonText;\n            });\n            \n            function handleSuccess(message) {\n                statusDiv.className = 'form-status success';\n                statusDiv.textContent = message;\n                form.reset();\n                \n                // Hide success message after 5 seconds\n                setTimeout(() => {\n                    statusDiv.style.display = 'none';\n                }, 5000);\n            }\n            \n            function handleError(message) {\n                statusDiv.style.display = 'block';\n                statusDiv.className = 'form-status error';\n                statusDiv.textContent = message;\n            }\n            \n            return false;\n        });\n    });\n}); "],"names":["document","addEventListener","forms","querySelectorAll","forEach","form","statusDiv","parentElement","querySelector","submitButton","originalButtonText","textContent","e","preventDefault","stopPropagation","disabled","style","display","className","formData","FormData","append","obx_site","nonce","ajaxUrl","ajax_url","fetch","method","credentials","body","then","response","ok","Error","json","data","success","handleSuccess","message","catch","error","console","handleError","finally","reset","setTimeout"],"sourceRoot":""}