(()=>{"use strict";var e,o={102:()=>{const e=window.wp.blocks,o=window.React,t=window.wp.i18n,l=window.wp.blockEditor,a=window.wp.components,n=window.wp.element,c=window.wp.primitives,s=(0,o.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,o.createElement)(c.Path,{d:"m19 7-3-3-8.5 8.5-1 4 4-1L19 7Zm-7 11.5H5V20h7v-1.5Z"})),i=(0,o.createElement)(c.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,o.createElement)(c.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v8.4l-3-2.9c-.3-.3-.8-.3-1 0L11.9 14 9 12c-.3-.2-.6-.2-.8 0l-3.6 2.6V5c-.1-.3.1-.5.4-.5zm14 15H5c-.3 0-.5-.2-.5-.5v-2.4l4.1-3 3 1.9c.3.2.7.2.9-.1L16 12l3.5 3.4V19c0 .3-.2.5-.5.5z"})),r=(0,o.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,o.createElement)(c.Path,{d:"M11 12.5V17.5H12.5V12.5H17.5V11H12.5V6H11V11H6V12.5H11Z"})),m=JSON.parse('{"UU":"obx-blocks/technologies"}');(0,e.registerBlockType)(m.UU,{edit:function({attributes:e,setAttributes:c}){const{heading:m,subheading:g,introText:b,technologies:d,backgroundColor:_,textColor:h,align:u}=e,[x,p]=(0,n.useState)(null),[v,E]=(0,n.useState)({}),[w,k]=(0,n.useState)(null),N=e=>e&&e.toLowerCase().endsWith(".svg");(0,n.useEffect)((()=>{d.forEach((e=>{e.logoImage?.url&&N(e.logoImage.url)&&(async e=>{if(!v[e])try{const o=await fetch(e),t=await o.text();E((o=>({...o,[e]:`data:image/svg+xml,${encodeURIComponent(t)}`})))}catch(e){console.error("Error fetching SVG:",e)}})(e.logoImage.url,e.id)}))}),[d]);const C=(0,l.useBlockProps)({className:`obx-technologies align${u||"none"}`,style:{backgroundColor:_,color:h}}),f=(e,o,t)=>{const l=[...d];l[e]={...l[e],[o]:t},c({technologies:l})};return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(l.BlockControls,null,(0,o.createElement)(l.BlockAlignmentToolbar,{value:u,onChange:e=>c({align:e}),controls:["wide","full"]})),(0,o.createElement)(l.InspectorControls,null,(0,o.createElement)(a.PanelBody,{title:(0,t.__)("Technology Settings","obx-blocks")},(0,o.createElement)("div",{className:"components-base-control"},(0,o.createElement)("label",{className:"components-base-control__label"},(0,t.__)("Background Color","obx-blocks")),(0,o.createElement)(l.ColorPalette,{value:_,onChange:e=>c({backgroundColor:e})})),(0,o.createElement)("div",{className:"components-base-control"},(0,o.createElement)("label",{className:"components-base-control__label"},(0,t.__)("Text Color","obx-blocks")),(0,o.createElement)(l.ColorPalette,{value:h,onChange:e=>c({textColor:e})})))),(0,o.createElement)("div",{...C},(0,o.createElement)("div",{className:"obx-technologies__container"},(0,o.createElement)("div",{className:"obx-technologies__header"},(0,o.createElement)(l.RichText,{tagName:"h2",className:"obx-technologies__heading",value:m,onChange:e=>c({heading:e}),placeholder:(0,t.__)("Top platforms","obx-blocks"),allowedFormats:["core/bold","core/italic"]}),(0,o.createElement)(l.RichText,{tagName:"h3",className:"obx-technologies__subheading",value:g,onChange:e=>c({subheading:e}),placeholder:(0,t.__)("we use","obx-blocks"),allowedFormats:["core/bold","core/italic"]}),(0,o.createElement)(l.RichText,{tagName:"div",className:"obx-technologies__intro",value:b,onChange:e=>c({introText:e}),placeholder:(0,t.__)("Enter your intro text here","obx-blocks"),allowedFormats:["core/bold","core/italic","core/link"]})),(0,o.createElement)("div",{className:"obx-technologies__grid"},d.map(((e,n)=>(0,o.createElement)("div",{key:e.id,className:"obx-technologies__item "+(x===n?"is-selected":""),onClick:()=>p(n)},(0,o.createElement)("div",{className:"obx-technologies__item-logo"},((e,n)=>{if(w===n)return(0,o.createElement)(l.MediaUploadCheck,null,(0,o.createElement)(l.MediaUpload,{onSelect:e=>{f(n,"logoImage",e),k(null)},allowedTypes:["image","svg"],value:e.logoImage?.id,render:({open:l})=>(0,o.createElement)("div",{className:"obx-technologies__item-logo-edit"},(0,o.createElement)(a.Button,{onClick:l,className:"obx-technologies__item-logo-upload-button"},e.logoImage?.id?(0,t.__)("Change Logo","obx-blocks"):(0,t.__)("Upload Logo","obx-blocks")),(0,o.createElement)(a.Button,{onClick:()=>k(null),className:"obx-technologies__item-logo-cancel-button"},(0,t.__)("Cancel","obx-blocks")),e.logoImage?.id&&(0,o.createElement)(a.Button,{onClick:()=>{f(n,"logoImage",{}),k(null)},className:"obx-technologies__item-logo-remove-button",isDestructive:!0},(0,t.__)("Remove","obx-blocks")))}));if(e.logoImage&&e.logoImage.url){const l=e.logoImage.url;if(N(l)){const c=v[l];return c?(0,o.createElement)("div",{className:"obx-technologies__item-logo-wrapper"},(0,o.createElement)("div",{className:"obx-technologies__item-logo-svg",style:{backgroundImage:`url(${c})`},"aria-label":e.name}),(0,o.createElement)(a.Tooltip,{text:(0,t.__)("Edit Logo","obx-blocks")},(0,o.createElement)(a.Button,{className:"obx-technologies__item-logo-edit-button",icon:s,onClick:e=>{e.stopPropagation(),k(n)}}))):(0,o.createElement)("div",{className:"obx-technologies__item-logo-loading"},(0,t.__)("Loading...","obx-blocks"))}return(0,o.createElement)("div",{className:"obx-technologies__item-logo-wrapper"},(0,o.createElement)("img",{src:l,alt:e.name,className:"obx-technologies__item-logo-img"}),(0,o.createElement)(a.Tooltip,{text:(0,t.__)("Edit Logo","obx-blocks")},(0,o.createElement)(a.Button,{className:"obx-technologies__item-logo-edit-button",icon:s,onClick:e=>{e.stopPropagation(),k(n)}})))}return(0,o.createElement)("div",{className:"obx-technologies__item-logo-placeholder",onClick:e=>{e.stopPropagation(),k(n)}},(0,o.createElement)(a.Tooltip,{text:(0,t.__)("Add Logo","obx-blocks")},(0,o.createElement)(a.Button,{icon:i,label:(0,t.__)("Add Logo","obx-blocks")})))})(e,n)),(0,o.createElement)("div",{className:"obx-technologies__item-content"},(0,o.createElement)(l.RichText,{tagName:"div",className:"obx-technologies__item-name",value:e.name,onChange:e=>f(n,"name",e),placeholder:(0,t.__)("Technology Name","obx-blocks"),allowedFormats:["core/bold","core/italic"]}),(0,o.createElement)("div",{className:"obx-technologies__item-actions"},(0,o.createElement)(a.Button,{isDestructive:!0,onClick:e=>{e.stopPropagation(),(e=>{const o=[...d];o.splice(e,1),c({technologies:o}),p(null)})(n)},className:"obx-technologies__item-remove"},(0,t.__)("Remove","obx-blocks")))))))),(0,o.createElement)(a.Button,{className:"obx-technologies__add-button",icon:r,onClick:()=>{const e=[...d];e.push({id:`tech-${Date.now()}`,logoImage:{},name:""}),c({technologies:e})}},(0,t.__)("Add Technology","obx-blocks")))))},save:()=>null})}},t={};function l(e){var a=t[e];if(void 0!==a)return a.exports;var n=t[e]={exports:{}};return o[e](n,n.exports,l),n.exports}l.m=o,e=[],l.O=(o,t,a,n)=>{if(!t){var c=1/0;for(m=0;m<e.length;m++){for(var[t,a,n]=e[m],s=!0,i=0;i<t.length;i++)(!1&n||c>=n)&&Object.keys(l.O).every((e=>l.O[e](t[i])))?t.splice(i--,1):(s=!1,n<c&&(c=n));if(s){e.splice(m--,1);var r=a();void 0!==r&&(o=r)}}return o}n=n||0;for(var m=e.length;m>0&&e[m-1][2]>n;m--)e[m]=e[m-1];e[m]=[t,a,n]},l.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={107:0,563:0};l.O.j=o=>0===e[o];var o=(o,t)=>{var a,n,[c,s,i]=t,r=0;if(c.some((o=>0!==e[o]))){for(a in s)l.o(s,a)&&(l.m[a]=s[a]);if(i)var m=i(l)}for(o&&o(t);r<c.length;r++)n=c[r],l.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return l.O(m)},t=globalThis.webpackChunkobx_blocks=globalThis.webpackChunkobx_blocks||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))})();var a=l.O(void 0,[563],(()=>l(102)));a=l.O(a)})();