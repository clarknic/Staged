(()=>{var e={414:()=>{document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".post-categories-search__categories");if(!e)return;const t=e.querySelector(".categories-list");if(t){if(window.innerWidth<=768){const o=document.createElement("select");o.className="mobile-categories-select";const n=document.createElement("option");n.value="",n.textContent="Select Category",o.appendChild(n);const i=window.location.href;let s=!1;t.querySelectorAll("li a").forEach((e=>{const t=document.createElement("option"),n=e.getAttribute("href");t.value=n,t.textContent=e.textContent.trim(),(i===n||i.endsWith("/")&&i.slice(0,-1)===n||!i.endsWith("/")&&i+"/"===n)&&(t.selected=!0,s=!0,e.parentElement.classList.add("current-category"),e.style.fontWeight="bold",e.style.color="var(--color-accent, #c4a468)"),!s&&i.includes(n)&&"/"!==n&&(t.selected=!0,s=!0),o.appendChild(t)})),o.addEventListener("change",(function(){this.value&&(window.location.href=this.value)})),e.appendChild(o)}window.addEventListener("resize",(function(){const t=window.innerWidth<=768,o=e.querySelector(".mobile-categories-select");t&&!o?document.dispatchEvent(new Event("DOMContentLoaded")):!t&&o&&o.remove()}))}}))}},t={};function o(n){var i=t[n];if(void 0!==i)return i.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,o),s.exports}(()=>{"use strict";const e=()=>{function e(){const e=this,t=e.dataset.postId,o=e.closest(".likes-count").querySelector(".count"),n=e.classList.contains("liked")?"unlike":"like";fetch(obx_site.ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"post_like",post_id:t,action_type:n,nonce:obx_site.nonce})}).then((e=>e.json())).then((t=>{t.success&&(o.textContent=t.data.count,t.data.liked?(e.classList.add("liked"),e.setAttribute("fill","#ff4757")):(e.classList.remove("liked"),e.setAttribute("fill","none")))})).catch((e=>{console.error("Error:",e)}))}!function(){const t=document.querySelectorAll(".like-button");t.length&&t.forEach((t=>{t.addEventListener("click",e)}))}()};function t(){document.querySelectorAll('a[href^="#"]:not([href="#"])').forEach((e=>{e.addEventListener("click",n)})),document.querySelectorAll(".obx-toc-list a").forEach((e=>{e.removeEventListener("click",n),e.addEventListener("click",n)}))}function n(e){e.preventDefault();const t=this.getAttribute("href");if("#"===t)return;const o=document.querySelector(t);if(!o)return;document.querySelectorAll(".obx-toc-list a").forEach((e=>{e.classList.remove("active")})),this.classList.add("active");const n=document.querySelector(".obx-toc-sticky");if(n){n.querySelectorAll(".obx-toc-list a").forEach((e=>{e.classList.remove("active")}));const e=n.querySelector(`a[href="${t}"]`);e&&e.classList.add("active");const o=n.querySelector(".obx-toc-title");o&&!n.classList.contains("obx-toc-expanded")&&window.innerWidth<1500&&(o.innerText=this.innerText),n.classList.remove("obx-toc-expanded")}window.isScrollingProgrammatically=!0;const i=o.getBoundingClientRect().top+window.pageYOffset-80;window.scrollTo({top:i,behavior:"smooth"}),history.pushState(null,null,t),o.classList.add("highlight-target"),setTimeout((()=>{o.classList.remove("highlight-target")}),1500),setTimeout((()=>{window.isScrollingProgrammatically=!1}),1e3)}document.addEventListener("DOMContentLoaded",(()=>{t(),function(){const e=document.querySelector(".obx-toc");if(!e)return;const t=e.cloneNode(!0);t.classList.add("obx-toc-sticky");let o="In this article";function n(){if(window.innerWidth>=1500){const e=document.querySelector(".single-post article");if(e){const o=e.getBoundingClientRect().left-t.offsetWidth-32;t.style.setProperty("--toc-left-position",`${Math.max(o,32)}px`)}}else t.style.removeProperty("--toc-left-position")}window.addEventListener("resize",n),n();const i=t.querySelector(".obx-toc-container");if(i){const e=i.innerHTML;i.remove();const n=document.createElement("div");n.className="obx-toc-sticky-container",n.innerHTML=e;const s=document.createElement("button");s.className="obx-toc-toggle",s.setAttribute("aria-label","Toggle table of contents"),s.innerHTML='<span class="obx-toc-toggle-icon"></span>';const c=n.querySelector(".obx-toc-title");c&&(c.innerText=o,o=c.innerText),n.prepend(s),t.appendChild(n)}else{const e=t.querySelector(".obx-toc-title");e&&(e.innerText=o,o=e.innerText);const n=document.createElement("button");n.className="obx-toc-toggle",n.setAttribute("aria-label","Toggle table of contents"),n.innerHTML='<span class="obx-toc-toggle-icon"></span>',t.prepend(n)}const s=document.createElement("div");s.className="obx-toc-sticky-progress",t.appendChild(s),document.body.appendChild(t);const c=e.getBoundingClientRect();let r=c.top+window.pageYOffset,a=c.bottom+window.pageYOffset;function l(){return window.innerWidth<1500}const d=t.querySelector(".obx-toc-toggle");d&&d.addEventListener("click",(()=>{t.classList.toggle("obx-toc-expanded");const e=t.querySelector(".obx-toc-title");if(e)if(t.classList.contains("obx-toc-expanded"))e.innerText=o;else if(l()){const n=t.querySelector(".obx-toc-list a.active");e.innerText=n?n.innerText:o}})),window.addEventListener("scroll",(()=>{const e=window.pageYOffset,o=window.innerHeight,i=e/(document.documentElement.scrollHeight-o)*100;s&&l()&&(s.style.width=`${i}%`),e>a?(t.classList.add("obx-toc-visible"),n(),e+o>(document.querySelector(".site-footer")?document.querySelector(".site-footer").offsetTop:document.body.scrollHeight)+(document.querySelector(".site-footer")?document.querySelector(".site-footer").offsetHeight:0)-20&&t.classList.remove("obx-toc-visible")):t.classList.remove("obx-toc-visible")})),window.addEventListener("resize",(()=>{const n=e.getBoundingClientRect();if(r=n.top+window.pageYOffset,a=n.bottom+window.pageYOffset,s)if(l()){const e=window.pageYOffset,t=window.innerHeight,o=e/(document.documentElement.scrollHeight-t)*100;s.style.width=`${o}%`}else s.style.width="0";const i=t.querySelector(".obx-toc-title");if(i&&!t.classList.contains("obx-toc-expanded"))if(l()){const e=t.querySelector(".obx-toc-list a.active");e&&(i.innerText=e.innerText)}else i.innerText=o}))}(),function(){const e=document.querySelector(".obx-toc"),t=document.querySelector(".obx-toc-sticky");if(!e)return;function o(){return window.innerWidth<1500}let n="In this article";const i=t?t.querySelector(".obx-toc-title"):null;i&&i.innerText;const s=document.querySelectorAll(".obx-toc-list a"),c=[];let r=null;if(s.forEach((e=>{const t=e.getAttribute("href");if(t&&t.startsWith("#")){const o=document.querySelector(t);o&&c.push({element:o,link:e})}})),0===c.length)return;if(c.length>0&&c[0].link&&(r=c[0].link.getAttribute("href"),c[0].link.classList.add("active"),t)){const e=t.querySelector(`a[href="${r}"]`);e&&(e.classList.add("active"),i&&!t.classList.contains("obx-toc-expanded")&&o()&&(i.innerText=c[0].link.innerText))}function a(){const e=window.scrollY;let n=null;for(let t=c.length-1;t>=0;t--)if(e>=c[t].element.getBoundingClientRect().top+window.pageYOffset-100){n=c[t];break}if(!n&&c.length>0&&e<c[0].element.getBoundingClientRect().top+window.pageYOffset&&(n=c[0]),!n&&c.length>0&&e+window.innerHeight>=document.body.scrollHeight-50&&(n=c[c.length-1]),n){const e=n.link.getAttribute("href");if(e!==r&&(r=e,s.forEach((e=>{e.classList.remove("active")})),n.link.classList.add("active"),t)){t.querySelectorAll(".obx-toc-list a").forEach((e=>{e.classList.remove("active")}));const e=t.querySelector(`a[href="${r}"]`);if(e){e.classList.add("active");const i=t.querySelector(".obx-toc-title");i&&!t.classList.contains("obx-toc-expanded")&&o()&&(i.innerText=n.link.innerText,i.classList.add("with-active-text"))}}}}const l=function(e,t){let o;return function(...n){clearTimeout(o),o=setTimeout((()=>{clearTimeout(o),e(...n)}),t)}}(a,20);window.addEventListener("scroll",l),t&&new MutationObserver((e=>{e.forEach((e=>{e.target.classList.contains("obx-toc-visible")&&a()}))})).observe(t,{attributes:!0,attributeFilter:["class"]})}(),function(){const e=document.querySelector(".site-footer__scroll-top");e&&e.addEventListener("click",(e=>{e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})}))}()}));const i=t;function s(){const e=document.createElement("div");e.className="obx-lightbox",e.setAttribute("aria-hidden","true"),e.innerHTML='\n    <div class="obx-lightbox-overlay"></div>\n    <button class="obx-lightbox-close" aria-label="Close lightbox">&times;</button>\n    <div class="obx-lightbox-content">\n      <img src="" alt="" class="obx-lightbox-image">\n      <div class="obx-lightbox-caption"></div>\n    </div>\n  ',document.body.appendChild(e);const t=document.querySelectorAll('.wp-block-image a[href$=".jpg"], .wp-block-image a[href$=".jpeg"], .wp-block-image a[href$=".png"], .wp-block-image a[href$=".gif"], .wp-block-image a[href$=".webp"]'),o=document.querySelector(".obx-lightbox"),n=o.querySelector(".obx-lightbox-image"),i=o.querySelector(".obx-lightbox-caption"),s=o.querySelector(".obx-lightbox-close"),c=o.querySelector(".obx-lightbox-overlay");function r(){o.classList.remove("obx-lightbox-active"),o.setAttribute("aria-hidden","true"),setTimeout((()=>{n.src="",i.textContent=""}),300),document.body.style.overflow=""}t.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault(),function(e){const t=e.getAttribute("href"),s=e.querySelector("img").getAttribute("alt")||"";n.src=t,i.textContent=s,o.classList.add("obx-lightbox-active"),o.setAttribute("aria-hidden","false"),document.body.style.overflow="hidden"}(e)}))})),s.addEventListener("click",r),c.addEventListener("click",r),document.addEventListener("keydown",(e=>{o.classList.contains("obx-lightbox-active")&&"Escape"===e.key&&r()})),n.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation()}))}document.addEventListener("DOMContentLoaded",(()=>{s()}));const c=s;class r{constructor(){this.loadMoreBtn=document.getElementById("load-more"),this.postsContainer=document.getElementById("ajax-posts"),this.spinner=document.querySelector(".loading-spinner"),this.loadMoreBtn&&this.postsContainer&&(this.loading=!1,this.currentPage=parseInt(this.loadMoreBtn.dataset.page),this.maxPages=parseInt(this.loadMoreBtn.dataset.maxPages),this.postsPerPage=parseInt(this.loadMoreBtn.dataset.postsPerPage),this.searchQuery=this.loadMoreBtn.dataset.search||"",this.categoryId=this.loadMoreBtn.dataset.cat||"",this.autoLoadThreshold=200,this.loadDelay=1e3,this.initEvents())}initEvents(){this.loadMoreBtn.addEventListener("click",(e=>{e.preventDefault(),this.loadMorePosts()})),window.addEventListener("scroll",(()=>{this.loading||window.scrollY+window.innerHeight>document.documentElement.scrollHeight-this.autoLoadThreshold&&this.loadMorePosts()}))}loadMorePosts(){if(this.loading||this.currentPage>=this.maxPages)return;this.loading=!0,this.currentPage++,this.spinner.classList.remove("hidden");const e=new FormData;e.append("action","load_more_posts"),e.append("page",this.currentPage),e.append("posts_per_page",this.postsPerPage),this.searchQuery&&e.append("s",this.searchQuery),this.categoryId&&e.append("cat",this.categoryId),fetch(obx_site.ajax_url,{method:"POST",body:e,credentials:"same-origin"}).then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.text()})).then((e=>{setTimeout((()=>{e?(this.postsContainer.insertAdjacentHTML("beforeend",e),this.loadMoreBtn.dataset.page=this.currentPage,this.currentPage>=this.maxPages&&this.loadMoreBtn.remove()):this.loadMoreBtn.remove(),this.loading=!1,this.spinner.classList.add("hidden")}),this.loadDelay)})).catch((e=>{console.error("Error loading more posts:",e),this.loading=!1,this.spinner.classList.add("hidden")}))}}document.addEventListener("DOMContentLoaded",(()=>{new r})),o(414),document.addEventListener("DOMContentLoaded",(function(){!function(){const e=document.querySelector(".menu-toggle"),t=document.querySelector(".main-navigation"),o=document.body;e&&t&&(e.setAttribute("aria-expanded","false"),e.addEventListener("click",(function(n){n.preventDefault(),t.classList.toggle("is-open"),e.classList.toggle("is-active"),o.classList.toggle("menu-open");const i="true"===e.getAttribute("aria-expanded");e.setAttribute("aria-expanded",!i)})))}(),e(),(()=>{const e=document.querySelector(".search-toggle"),t=document.querySelector(".search-form-container");if(!e||!t)return;const o=()=>window.innerWidth<=768;e.addEventListener("click",(()=>{if(o())return;const n="true"===e.getAttribute("aria-expanded");if(e.setAttribute("aria-expanded",!n),t.classList.toggle("is-active"),e.classList.toggle("is-active"),!n){const e=t.querySelector(".search-field");e&&setTimeout((()=>{e.focus()}),10)}})),o()&&t.classList.add("is-active"),window.addEventListener("resize",(()=>{o()?t.classList.add("is-active"):e.classList.contains("is-active")||t.classList.remove("is-active")})),document.addEventListener("click",(n=>{o()||!t.classList.contains("is-active")||t.contains(n.target)||e.contains(n.target)||(t.classList.remove("is-active"),e.classList.remove("is-active"),e.setAttribute("aria-expanded","false"))})),document.addEventListener("keydown",(n=>{!o()&&"Escape"===n.key&&t.classList.contains("is-active")&&(t.classList.remove("is-active"),e.classList.remove("is-active"),e.setAttribute("aria-expanded","false"),e.focus())}))})(),i(),c(),document.querySelectorAll(".copy-link").forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault();const t=this.getAttribute("data-clipboard-text"),o=document.createElement("textarea");o.value=t,o.setAttribute("readonly",""),o.style.position="absolute",o.style.left="-9999px",document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o);const n=this.style.color;this.style.color="var(--color-accent)",setTimeout((()=>{this.style.color=n}),1500)}))}))}))})()})();