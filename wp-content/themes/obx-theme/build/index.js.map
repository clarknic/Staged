{"version":3,"file":"index.js","mappings":"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","sources":["webpack://staged/./src/js/components/lightbox.js","webpack://staged/./src/js/components/mobile-categories.js","webpack://staged/./src/js/components/navigation.js","webpack://staged/./src/js/components/pagination.js","webpack://staged/./src/js/components/post-likes.js","webpack://staged/./src/js/components/search-form.js","webpack://staged/./src/js/components/smooth-scroll.js","webpack://staged/./src/scss/index.scss?bf93","webpack://staged/webpack/bootstrap","webpack://staged/webpack/runtime/compat get default export","webpack://staged/webpack/runtime/define property getters","webpack://staged/webpack/runtime/hasOwnProperty shorthand","webpack://staged/webpack/runtime/make namespace object","webpack://staged/./src/index.js"],"sourcesContent":["/**\n * Lightbox Component\n * \n * Intercepts clicks on core image blocks that link to the image file\n * and displays them in a lightbox instead of navigating to the file.\n */\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  initLightbox();\n});\n\n/**\n * Initialize lightbox functionality\n */\nfunction initLightbox() {\n  // Create lightbox container\n  const lightboxContainer = document.createElement('div');\n  lightboxContainer.className = 'obx-lightbox';\n  lightboxContainer.setAttribute('aria-hidden', 'true');\n  lightboxContainer.innerHTML = `\n    <div class=\"obx-lightbox-overlay\"></div>\n    <button class=\"obx-lightbox-close\" aria-label=\"Close lightbox\">&times;</button>\n    <div class=\"obx-lightbox-content\">\n      <img src=\"\" alt=\"\" class=\"obx-lightbox-image\">\n      <div class=\"obx-lightbox-caption\"></div>\n    </div>\n  `;\n  document.body.appendChild(lightboxContainer);\n  \n  // Get all core image blocks with links\n  const imageLinks = document.querySelectorAll('.wp-block-image a[href$=\".jpg\"], .wp-block-image a[href$=\".jpeg\"], .wp-block-image a[href$=\".png\"], .wp-block-image a[href$=\".gif\"], .wp-block-image a[href$=\".webp\"]');\n  \n  // Lightbox elements\n  const lightbox = document.querySelector('.obx-lightbox');\n  const lightboxImage = lightbox.querySelector('.obx-lightbox-image');\n  const lightboxCaption = lightbox.querySelector('.obx-lightbox-caption');\n  const closeButton = lightbox.querySelector('.obx-lightbox-close');\n  const overlay = lightbox.querySelector('.obx-lightbox-overlay');\n  \n  // Intercept clicks on image links\n  imageLinks.forEach((link) => {\n    // Prevent default link behavior\n    link.addEventListener('click', (e) => {\n      e.preventDefault();\n      openLightbox(link);\n    });\n  });\n  \n  // Open lightbox with the clicked image\n  function openLightbox(link) {\n    // Get image source\n    const imageSrc = link.getAttribute('href');\n    const thumbnailImage = link.querySelector('img');\n    const caption = thumbnailImage.getAttribute('alt') || '';\n    \n    // Set image and caption\n    lightboxImage.src = imageSrc;\n    lightboxCaption.textContent = caption;\n    \n    // Show lightbox\n    lightbox.classList.add('obx-lightbox-active');\n    lightbox.setAttribute('aria-hidden', 'false');\n    \n    // Disable body scroll\n    document.body.style.overflow = 'hidden';\n  }\n  \n  // Close lightbox\n  function closeLightbox() {\n    lightbox.classList.remove('obx-lightbox-active');\n    lightbox.setAttribute('aria-hidden', 'true');\n    \n    // Clear image source after transition\n    setTimeout(() => {\n      lightboxImage.src = '';\n      lightboxCaption.textContent = '';\n    }, 300);\n    \n    // Re-enable body scroll\n    document.body.style.overflow = '';\n  }\n  \n  // Event listeners\n  closeButton.addEventListener('click', closeLightbox);\n  overlay.addEventListener('click', closeLightbox);\n  \n  // Keyboard navigation\n  document.addEventListener('keydown', (e) => {\n    if (!lightbox.classList.contains('obx-lightbox-active')) return;\n    \n    if (e.key === 'Escape') {\n      closeLightbox();\n    }\n  });\n  \n  // Prevent zooming on mobile double-tap\n  lightboxImage.addEventListener('click', (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n  });\n}\n\nexport default initLightbox; ","/**\n * Mobile Categories Select\n * \n * Transforms the categories list into a select dropdown on mobile\n */\n\ndocument.addEventListener('DOMContentLoaded', function() {\n  const categoriesContainer = document.querySelector('.post-categories-search__categories');\n  if (!categoriesContainer) return;\n  \n  const categoriesList = categoriesContainer.querySelector('.categories-list');\n  if (!categoriesList) return;\n  \n  // Check if we're on mobile\n  const isMobile = window.innerWidth <= 768;\n  \n  if (isMobile) {\n    // Create select element\n    const select = document.createElement('select');\n    select.className = 'mobile-categories-select';\n    \n    // Add default option\n    const defaultOption = document.createElement('option');\n    defaultOption.value = '';\n    defaultOption.textContent = 'Select Category';\n    select.appendChild(defaultOption);\n    \n    // Get current page URL to detect active category\n    const currentUrl = window.location.href;\n    let currentCategoryFound = false;\n    \n    // Add options from the categories list\n    const categoryItems = categoriesList.querySelectorAll('li a');\n    categoryItems.forEach(item => {\n      const option = document.createElement('option');\n      const itemUrl = item.getAttribute('href');\n      option.value = itemUrl;\n      option.textContent = item.textContent.trim();\n      \n      // Check if this is the current category\n      if (currentUrl === itemUrl || \n          (currentUrl.endsWith('/') && currentUrl.slice(0, -1) === itemUrl) || \n          (!currentUrl.endsWith('/') && currentUrl + '/' === itemUrl)) {\n        option.selected = true;\n        currentCategoryFound = true;\n        \n        // Also highlight the original list item for desktop view\n        item.parentElement.classList.add('current-category');\n        item.style.fontWeight = 'bold';\n        item.style.color = 'var(--color-accent, #c4a468)';\n      }\n      \n      // Also check if we're on a child category\n      if (!currentCategoryFound && currentUrl.includes(itemUrl) && itemUrl !== '/') {\n        option.selected = true;\n        currentCategoryFound = true;\n      }\n      \n      select.appendChild(option);\n    });\n    \n    // Handle selection change\n    select.addEventListener('change', function() {\n      if (this.value) {\n        window.location.href = this.value;\n      }\n    });\n    \n    // Append the select element\n    categoriesContainer.appendChild(select);\n  }\n  \n  // Handle resize events\n  window.addEventListener('resize', function() {\n    const isMobileNow = window.innerWidth <= 768;\n    const existingSelect = categoriesContainer.querySelector('.mobile-categories-select');\n    \n    if (isMobileNow && !existingSelect) {\n      // Re-run the function if resized to mobile and select doesn't exist\n      document.dispatchEvent(new Event('DOMContentLoaded'));\n    } else if (!isMobileNow && existingSelect) {\n      // Remove select if resized to desktop\n      existingSelect.remove();\n    }\n  });\n}); ","/**\n * File navigation.js.\n *\n * Handles toggling the navigation menu for small screens and enables TAB key\n * navigation support for dropdown menus.\n */\nexport default function navigation() {\n  const menuToggle = document.querySelector('.menu-toggle');\n  const mainNav = document.querySelector('.main-navigation');\n  const body = document.body;\n\n  if (menuToggle && mainNav) {\n    // Set initial state\n    menuToggle.setAttribute('aria-expanded', 'false');\n    \n    menuToggle.addEventListener('click', function(e) {\n      e.preventDefault();\n      \n      // Toggle navigation visibility\n      mainNav.classList.toggle('is-open');\n      \n      // Toggle button state\n      menuToggle.classList.toggle('is-active');\n      \n      // Toggle body class to prevent scrolling\n      body.classList.toggle('menu-open');\n      \n      // Update aria-expanded attribute\n      const isExpanded = menuToggle.getAttribute('aria-expanded') === 'true';\n      menuToggle.setAttribute('aria-expanded', !isExpanded);\n    });\n  }\n} ","/**\n * Pagination component - handles AJAX loading of posts\n */\n\nclass PostsPagination {\n  constructor() {\n    this.loadMoreBtn = document.getElementById('load-more');\n    this.postsContainer = document.getElementById('ajax-posts');\n    this.spinner = document.querySelector('.loading-spinner');\n    \n    if (!this.loadMoreBtn || !this.postsContainer) {\n      return;\n    }\n    \n    this.loading = false;\n    this.currentPage = parseInt(this.loadMoreBtn.dataset.page);\n    this.maxPages = parseInt(this.loadMoreBtn.dataset.maxPages);\n    this.postsPerPage = parseInt(this.loadMoreBtn.dataset.postsPerPage);\n    this.searchQuery = this.loadMoreBtn.dataset.search || '';\n    this.categoryId = this.loadMoreBtn.dataset.cat || '';\n    this.autoLoadThreshold = 200; // pixels from bottom to trigger auto load\n    this.loadDelay = 1000; // 1-second delay for loading posts\n    \n    // Initialize event listeners\n    this.initEvents();\n  }\n  \n  initEvents() {\n    // Click handler for Load More button\n    this.loadMoreBtn.addEventListener('click', (e) => {\n      e.preventDefault();\n      this.loadMorePosts();\n    });\n    \n    // Auto-load when scrolling near bottom\n    window.addEventListener('scroll', () => {\n      if (this.loading) return;\n      \n      if ((window.scrollY + window.innerHeight) > \n          (document.documentElement.scrollHeight - this.autoLoadThreshold)) {\n        this.loadMorePosts();\n      }\n    });\n  }\n  \n  loadMorePosts() {\n    if (this.loading || this.currentPage >= this.maxPages) {\n      return;\n    }\n    \n    this.loading = true;\n    this.currentPage++;\n    this.spinner.classList.remove('hidden');\n    \n    // Create FormData for the request\n    const formData = new FormData();\n    formData.append('action', 'load_more_posts');\n    formData.append('page', this.currentPage);\n    formData.append('posts_per_page', this.postsPerPage);\n    \n    // Add search query if available\n    if (this.searchQuery) {\n      formData.append('s', this.searchQuery);\n    }\n    \n    // Add category if available\n    if (this.categoryId) {\n      formData.append('cat', this.categoryId);\n    }\n    \n    // Use modern Fetch API instead of jQuery.ajax\n    fetch(obx_site.ajax_url, {\n      method: 'POST',\n      body: formData,\n      credentials: 'same-origin'\n    })\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      return response.text();\n    })\n    .then(html => {\n      // Add a slight delay before showing the posts\n      setTimeout(() => {\n        if (html) {\n          // Append new posts to container\n          this.postsContainer.insertAdjacentHTML('beforeend', html);\n          this.loadMoreBtn.dataset.page = this.currentPage;\n          \n          // Remove button if we've reached the max pages\n          if (this.currentPage >= this.maxPages) {\n            this.loadMoreBtn.remove();\n          }\n        } else {\n          this.loadMoreBtn.remove();\n        }\n        \n        this.loading = false;\n        this.spinner.classList.add('hidden');\n      }, this.loadDelay);\n    })\n    .catch(error => {\n      console.error('Error loading more posts:', error);\n      this.loading = false;\n      this.spinner.classList.add('hidden');\n    });\n  }\n}\n\n// Initialize the pagination when the DOM is loaded\ndocument.addEventListener('DOMContentLoaded', () => {\n  new PostsPagination();\n});\n\nexport default PostsPagination; ","/**\n * Post likes functionality\n * Handles toggling like state for posts\n */\n\nconst PostLikes = () => {\n  // Initialize like buttons\n  function init() {\n    const likeButtons = document.querySelectorAll('.like-button');\n    if (!likeButtons.length) return;\n    \n    likeButtons.forEach(button => {\n      button.addEventListener('click', handleLike);\n    });\n  }\n\n  /**\n   * Handle like button click\n   */\n  function handleLike() {\n    // Get the heart icon (this element)\n    const heart = this;\n    const postId = heart.dataset.postId;\n    const countElement = heart.closest('.likes-count').querySelector('.count');\n    \n    // Check if heart is currently liked\n    const isLiked = heart.classList.contains('liked');\n    \n    // Action is opposite of current state\n    const action = isLiked ? 'unlike' : 'like';\n    \n    // Send the request\n    fetch(obx_site.ajax_url, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n      body: new URLSearchParams({\n        action: 'post_like',\n        post_id: postId,\n        action_type: action,\n        nonce: obx_site.nonce\n      })\n    })\n    .then(response => response.json())\n    .then(data => {\n      if (data.success) {\n        // Update count\n        countElement.textContent = data.data.count;\n        \n        // Update heart state based on server response\n        if (data.data.liked) {\n          // Post is liked, fill heart with red\n          heart.classList.add('liked');\n          heart.setAttribute('fill', '#ff4757');\n        } else {\n          // Post is unliked, show outline only\n          heart.classList.remove('liked');\n          heart.setAttribute('fill', 'none');\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error:', error);\n    });\n  }\n  \n  // Initialize\n  init();\n};\n\nexport default PostLikes; ","/**\n * Search form animation\n */\n\nconst SearchForm = () => {\n  const searchToggle = document.querySelector('.search-toggle');\n  const searchContainer = document.querySelector('.search-form-container');\n  \n  if (!searchToggle || !searchContainer) return;\n  \n  // Check if we're on mobile\n  const checkMobile = () => window.innerWidth <= 768;\n  \n  // For desktop: Toggle search form visibility\n  searchToggle.addEventListener('click', () => {\n    if (checkMobile()) return; // Skip on mobile as the form is always visible\n    \n    const isExpanded = searchToggle.getAttribute('aria-expanded') === 'true';\n    \n    // Update ARIA state\n    searchToggle.setAttribute('aria-expanded', !isExpanded);\n    \n    // Toggle active classes\n    searchContainer.classList.toggle('is-active');\n    searchToggle.classList.toggle('is-active');\n    \n    // Focus the search input when opened\n    if (!isExpanded) {\n      // Focus immediately without delay\n      const input = searchContainer.querySelector('.search-field');\n      if (input) {\n        // Use a minimal timeout to ensure DOM is updated before focusing\n        setTimeout(() => {\n          input.focus();\n        }, 10);\n      }\n    }\n  });\n  \n  // Initialize mobile state\n  if (checkMobile()) {\n    searchContainer.classList.add('is-active');\n  }\n  \n  // Handle resize events\n  window.addEventListener('resize', () => {\n    if (checkMobile()) {\n      searchContainer.classList.add('is-active');\n    } else if (!searchToggle.classList.contains('is-active')) {\n      searchContainer.classList.remove('is-active');\n    }\n  });\n  \n  // Close search when clicking outside (desktop only)\n  document.addEventListener('click', (event) => {\n    if (\n      !checkMobile() &&\n      searchContainer.classList.contains('is-active') &&\n      !searchContainer.contains(event.target) &&\n      !searchToggle.contains(event.target)\n    ) {\n      searchContainer.classList.remove('is-active');\n      searchToggle.classList.remove('is-active');\n      searchToggle.setAttribute('aria-expanded', 'false');\n    }\n  });\n  \n  // Close search when pressing Escape (desktop only)\n  document.addEventListener('keydown', (event) => {\n    if (\n      !checkMobile() &&\n      event.key === 'Escape' &&\n      searchContainer.classList.contains('is-active')\n    ) {\n      searchContainer.classList.remove('is-active');\n      searchToggle.classList.remove('is-active');\n      searchToggle.setAttribute('aria-expanded', 'false');\n      searchToggle.focus();\n    }\n  });\n};\n\nexport default SearchForm; ","/**\n * Smooth Scroll Component\n * \n * Adds smooth scrolling behavior to Table of Contents links and other\n * anchor links that point to IDs on the same page.\n * Also handles sticky TOC functionality.\n */\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  initSmoothScroll();\n  initStickyToc();\n  initActiveTocItem();\n  initScrollToTop();\n});\n\n/**\n * Initialize smooth scrolling for anchor links\n */\nfunction initSmoothScroll() {\n  // Get all links that have a hash and are on the same page\n  const links = document.querySelectorAll('a[href^=\"#\"]:not([href=\"#\"])');\n  \n  links.forEach(link => {\n    link.addEventListener('click', smoothScroll);\n  });\n  \n  // Special handling for TOC links\n  const tocLinks = document.querySelectorAll('.obx-toc-list a');\n  tocLinks.forEach(link => {\n    // Remove regular event listener first to avoid duplication\n    link.removeEventListener('click', smoothScroll);\n    // Add it again\n    link.addEventListener('click', smoothScroll);\n  });\n}\n\n/**\n * Initialize sticky TOC functionality\n */\nfunction initStickyToc() {\n  const toc = document.querySelector('.obx-toc');\n  if (!toc) return;\n  \n  // Create a compact clone of the TOC for sticky positioning\n  const stickyToc = toc.cloneNode(true);\n  stickyToc.classList.add('obx-toc-sticky');\n  \n  // Store original title text\n  let originalTitleText = 'In this article';\n  \n  // Remove the original container if it exists\n  const originalContainer = stickyToc.querySelector('.obx-toc-container');\n  if (originalContainer) {\n    // Save the contents to reinsert later\n    const contents = originalContainer.innerHTML;\n    originalContainer.remove();\n    \n    // Create a new container\n    const container = document.createElement('div');\n    container.className = 'obx-toc-sticky-container';\n    container.innerHTML = contents;\n    \n    // Add a toggle button to expand/collapse on mobile\n    const toggleButton = document.createElement('button');\n    toggleButton.className = 'obx-toc-toggle';\n    toggleButton.setAttribute('aria-label', 'Toggle table of contents');\n    toggleButton.innerHTML = '<span class=\"obx-toc-toggle-icon\"></span>';\n    \n    // Make the title more compact for the sticky version\n    const tocTitle = container.querySelector('.obx-toc-title');\n    if (tocTitle) {\n      tocTitle.innerText = originalTitleText;\n      originalTitleText = tocTitle.innerText;\n    }\n    \n    // Add toggle button to the container (before any other content)\n    container.prepend(toggleButton);\n    \n    // Add the container to the sticky TOC\n    stickyToc.appendChild(container);\n  } else {\n    // Fallback if there's no container structure\n    // Make the title more compact for the sticky version\n    const tocTitle = stickyToc.querySelector('.obx-toc-title');\n    if (tocTitle) {\n      tocTitle.innerText = originalTitleText;\n      originalTitleText = tocTitle.innerText;\n    }\n    \n    // Add a toggle button to expand/collapse on mobile\n    const toggleButton = document.createElement('button');\n    toggleButton.className = 'obx-toc-toggle';\n    toggleButton.setAttribute('aria-label', 'Toggle table of contents');\n    toggleButton.innerHTML = '<span class=\"obx-toc-toggle-icon\"></span>';\n    \n    stickyToc.prepend(toggleButton);\n  }\n  \n  // Add progress indicator element\n  const progressBar = document.createElement('div');\n  progressBar.className = 'obx-toc-sticky-progress';\n  stickyToc.appendChild(progressBar);\n  \n  // Add the sticky TOC to the page\n  document.body.appendChild(stickyToc);\n  \n  // Get the original TOC position for scroll calculations\n  const tocRect = toc.getBoundingClientRect();\n  let tocTopPosition = tocRect.top + window.pageYOffset;\n  let tocBottomPosition = tocRect.bottom + window.pageYOffset;\n  \n  // Function to check if screen is smaller than 1500px\n  function isSmallScreen() {\n    return window.innerWidth < 1500;\n  }\n  \n  // Handle toggle click\n  const toggleButton = stickyToc.querySelector('.obx-toc-toggle');\n  if (toggleButton) {\n    toggleButton.addEventListener('click', () => {\n      stickyToc.classList.toggle('obx-toc-expanded');\n      \n      // When expanded, restore the original title\n      const tocTitle = stickyToc.querySelector('.obx-toc-title');\n      if (tocTitle) {\n        if (stickyToc.classList.contains('obx-toc-expanded')) {\n          tocTitle.innerText = originalTitleText;\n        } else if (isSmallScreen()) {\n          // When collapsed, display active item text if available and only on smaller screens\n          const activeItem = stickyToc.querySelector('.obx-toc-list a.active');\n          if (activeItem) {\n            tocTitle.innerText = activeItem.innerText;\n          } else {\n            tocTitle.innerText = originalTitleText;\n          }\n        }\n      }\n    });\n  }\n  \n  // Update scroll progress and sticky TOC position on scroll\n  window.addEventListener('scroll', () => {\n    const scrollPosition = window.pageYOffset;\n    const windowHeight = window.innerHeight;\n    const docHeight = document.documentElement.scrollHeight;\n    \n    // Calculate scroll progress (0 to 100%)\n    const scrollPercent = (scrollPosition / (docHeight - windowHeight)) * 100;\n    \n    // Update progress bar width based on scroll percentage only for smaller screens\n    if (progressBar && isSmallScreen()) {\n      progressBar.style.width = `${scrollPercent}%`;\n    }\n    \n    // Show sticky TOC only when scrolled past the BOTTOM of the original TOC\n    if (scrollPosition > tocBottomPosition) {\n      stickyToc.classList.add('obx-toc-visible');\n      \n      // Check if we should hide it when we reach footer or content end\n      // But only if we're very close to the bottom of the page\n      const contentBottomPositionFooter = document.querySelector('.site-footer') \n        ? document.querySelector('.site-footer').offsetTop\n        : document.body.scrollHeight;\n      \n      const footerHeight = document.querySelector('.site-footer') ? document.querySelector('.site-footer').offsetHeight : 0;\n\n      const contentBottomPosition = contentBottomPositionFooter + footerHeight;\n      // Only hide when we're almost at the footer, not when just viewing the last heading\n      if (scrollPosition + windowHeight > contentBottomPosition - 20) {\n        stickyToc.classList.remove('obx-toc-visible');\n      }\n    } else {\n      stickyToc.classList.remove('obx-toc-visible');\n    }\n  });\n  \n  // Handle window resize - update progress bar visibility and title text\n  window.addEventListener('resize', () => {\n    // Recalculate TOC position on resize\n    const updatedTocRect = toc.getBoundingClientRect();\n    tocTopPosition = updatedTocRect.top + window.pageYOffset;\n    tocBottomPosition = updatedTocRect.bottom + window.pageYOffset;\n    \n    // Update progress bar width immediately on resize if needed\n    if (progressBar) {\n      if (isSmallScreen()) {\n        const scrollPosition = window.pageYOffset;\n        const windowHeight = window.innerHeight;\n        const docHeight = document.documentElement.scrollHeight;\n        const scrollPercent = (scrollPosition / (docHeight - windowHeight)) * 100;\n        progressBar.style.width = `${scrollPercent}%`;\n      } else {\n        progressBar.style.width = '0';\n      }\n    }\n    \n    // Update title text based on screen size\n    const tocTitle = stickyToc.querySelector('.obx-toc-title');\n    if (tocTitle && !stickyToc.classList.contains('obx-toc-expanded')) {\n      if (isSmallScreen()) {\n        // On small screens, show active item text if available\n        const activeItem = stickyToc.querySelector('.obx-toc-list a.active');\n        if (activeItem) {\n          tocTitle.innerText = activeItem.innerText;\n        }\n      } else {\n        // On larger screens, always show the original title\n        tocTitle.innerText = originalTitleText;\n      }\n    }\n  });\n}\n\n/**\n * Initialize active TOC item tracking\n */\nfunction initActiveTocItem() {\n  const toc = document.querySelector('.obx-toc');\n  const stickyToc = document.querySelector('.obx-toc-sticky');\n  \n  if (!toc) return;\n  \n  // Function to check if screen is smaller than 1500px\n  function isSmallScreen() {\n    return window.innerWidth < 1500;\n  }\n  \n  // Store original title text for the sticky TOC\n  let originalTitleText = 'In this article';\n  const stickyTocTitle = stickyToc ? stickyToc.querySelector('.obx-toc-title') : null;\n  if (stickyTocTitle) {\n    originalTitleText = stickyTocTitle.innerText;\n  }\n  \n  // Get all headings that match the TOC links\n  const tocLinks = document.querySelectorAll('.obx-toc-list a');\n  const headings = [];\n  \n  // Store whether user is currently scrolling via click\n  // This helps prevent flickering during programmatic scrolling\n  let isScrollingProgrammatically = false;\n  let scrollTimeout;\n  let activeHeadingHref = null;\n  \n  // Build an array of heading elements and their positions\n  tocLinks.forEach(link => {\n    const href = link.getAttribute('href');\n    if (href && href.startsWith('#')) {\n      const heading = document.querySelector(href);\n      if (heading) {\n        headings.push({\n          element: heading,\n          link: link\n        });\n      }\n    }\n  });\n  \n  if (headings.length === 0) return;\n  \n  // Add active class initially to the first item\n  if (headings.length > 0 && headings[0].link) {\n    activeHeadingHref = headings[0].link.getAttribute('href');\n    headings[0].link.classList.add('active');\n    \n    // Also add to sticky TOC if it exists\n    if (stickyToc) {\n      const stickyLink = stickyToc.querySelector(`a[href=\"${activeHeadingHref}\"]`);\n      if (stickyLink) {\n        stickyLink.classList.add('active');\n        \n        // Update the sticky TOC title with the active item text if collapsed and only on small screens\n        if (stickyTocTitle && !stickyToc.classList.contains('obx-toc-expanded') && isSmallScreen()) {\n          stickyTocTitle.innerText = headings[0].link.innerText;\n        }\n      }\n    }\n  }\n  \n  // Debounce function to avoid excessive calculations\n  function debounce(func, wait) {\n    let timeout;\n    return function executedFunction(...args) {\n      const later = () => {\n        clearTimeout(timeout);\n        func(...args);\n      };\n      clearTimeout(timeout);\n      timeout = setTimeout(later, wait);\n    };\n  }\n  \n  // Update active TOC item\n  function updateActiveTocItem() {\n    // Skip updating during programmatic scrolling\n    if (isScrollingProgrammatically) return;\n    \n    // Get current scroll position\n    const scrollPos = window.scrollY;\n    const headerOffset = 100; // Offset for fixed header\n    \n    // Find the heading that is currently in view\n    let activeHeading = null;\n    \n    // Loop through headings from bottom to top to find the first one above the viewport\n    for (let i = headings.length - 1; i >= 0; i--) {\n      const heading = headings[i].element;\n      const headingTop = heading.getBoundingClientRect().top + window.pageYOffset - headerOffset;\n      \n      if (scrollPos >= headingTop) {\n        activeHeading = headings[i];\n        break;\n      }\n    }\n    \n    // If we're at the very top of the page before any headings\n    if (!activeHeading && headings.length > 0 && scrollPos < headings[0].element.getBoundingClientRect().top + window.pageYOffset) {\n      activeHeading = headings[0];\n    }\n    \n    // If we're at the very bottom of the page\n    if (!activeHeading && headings.length > 0 && scrollPos + window.innerHeight >= document.body.scrollHeight - 50) {\n      activeHeading = headings[headings.length - 1];\n    }\n    \n    // Update active class only if the active heading has changed\n    if (activeHeading) {\n      const newActiveHref = activeHeading.link.getAttribute('href');\n      \n      // Only update if the active heading has changed\n      if (newActiveHref !== activeHeadingHref) {\n        activeHeadingHref = newActiveHref;\n        \n        // Remove active class from all links\n        tocLinks.forEach(link => {\n          link.classList.remove('active');\n        });\n        \n        // Add active class to current link\n        activeHeading.link.classList.add('active');\n        \n        // Also update the sticky TOC if it exists\n        if (stickyToc) {\n          const stickyLinks = stickyToc.querySelectorAll('.obx-toc-list a');\n          \n          stickyLinks.forEach(link => {\n            link.classList.remove('active');\n          });\n          \n          const activeStickyLink = stickyToc.querySelector(`a[href=\"${activeHeadingHref}\"]`);\n          if (activeStickyLink) {\n            activeStickyLink.classList.add('active');\n            \n            // Update the sticky TOC title with the active item text if collapsed and only on small screens\n            if (stickyTocTitle && !stickyToc.classList.contains('obx-toc-expanded') && isSmallScreen()) {\n              stickyTocTitle.innerText = activeHeading.link.innerText;\n            }\n          }\n        }\n      }\n    }\n  }\n  \n  // Create debounced version of the update function\n  const debouncedUpdateActiveTocItem = debounce(updateActiveTocItem, 20);\n  \n  // Track active heading on scroll\n  window.addEventListener('scroll', debouncedUpdateActiveTocItem);\n}\n\n/**\n * Smooth scroll event handler\n * \n * @param {Event} e Click event\n */\nfunction smoothScroll(e) {\n  e.preventDefault();\n  \n  const href = this.getAttribute('href');\n  \n  // Don't do anything if the href is just \"#\"\n  if (href === '#') return;\n  \n  // Find the target element\n  const targetElement = document.querySelector(href);\n  \n  if (!targetElement) return;\n  \n  // Function to check if screen is smaller than 1500px\n  function isSmallScreen() {\n    return window.innerWidth < 1500;\n  }\n  \n  // Get all TOC links\n  const tocLinks = document.querySelectorAll('.obx-toc-list a');\n  \n  // Update active TOC item immediately on click to prevent flickering\n  tocLinks.forEach(link => {\n    link.classList.remove('active');\n  });\n  this.classList.add('active');\n  \n  // Update active item in sticky TOC\n  const stickyToc = document.querySelector('.obx-toc-sticky');\n  if (stickyToc) {\n    const stickyLinks = stickyToc.querySelectorAll('.obx-toc-list a');\n    stickyLinks.forEach(link => {\n      link.classList.remove('active');\n    });\n    \n    const stickyLink = stickyToc.querySelector(`a[href=\"${href}\"]`);\n    if (stickyLink) {\n      stickyLink.classList.add('active');\n    }\n    \n    // Update the title with active item text if collapsed and only on small screens\n    const stickyTocTitle = stickyToc.querySelector('.obx-toc-title');\n    if (stickyTocTitle && !stickyToc.classList.contains('obx-toc-expanded') && isSmallScreen()) {\n      stickyTocTitle.innerText = this.innerText;\n    }\n    \n    // Close the expanded TOC on mobile after clicking a link\n    stickyToc.classList.remove('obx-toc-expanded');\n  }\n  \n  // Set flag to prevent scroll handler from changing active item during animation\n  window.isScrollingProgrammatically = true;\n  \n  // Calculate position for scrolling\n  // Subtract a bit from the top to account for fixed headers\n  const headerOffset = 80; // Adjust based on your header height\n  const elementPosition = targetElement.getBoundingClientRect().top;\n  const offsetPosition = elementPosition + window.pageYOffset - headerOffset;\n  \n  // Perform the smooth scroll\n  window.scrollTo({\n    top: offsetPosition,\n    behavior: 'smooth'\n  });\n  \n  // Update URL hash without jumping\n  history.pushState(null, null, href);\n  \n  // Add a highlight effect to the target element\n  targetElement.classList.add('highlight-target');\n  setTimeout(() => {\n    targetElement.classList.remove('highlight-target');\n  }, 1500);\n  \n  // Reset scroll flag after animation completes\n  setTimeout(() => {\n    window.isScrollingProgrammatically = false;\n  }, 1000); // Slightly longer than typical scroll animation\n}\n\n/**\n * Initialize scroll to top functionality\n */\nfunction initScrollToTop() {\n  const scrollToTopButton = document.querySelector('.site-footer__scroll-top');\n  \n  if (scrollToTopButton) {\n    scrollToTopButton.addEventListener('click', (e) => {\n      e.preventDefault();\n      \n      window.scrollTo({\n        top: 0,\n        behavior: 'smooth'\n      });\n    });\n  }\n}\n\nexport default initSmoothScroll; ","// extracted by mini-css-extract-plugin\nexport {};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * Main frontend JavaScript file\n */\n\n// Import styles\nimport './scss/index.scss';\n\n// Import components\nimport navigation from './js/components/navigation.js';\nimport PostLikes from './js/components/post-likes.js';\nimport SearchForm from './js/components/search-form.js';\nimport initSmoothScroll from './js/components/smooth-scroll.js';\nimport initLightbox from './js/components/lightbox.js';\nimport PostsPagination from './js/components/pagination.js';\nimport './js/components/mobile-categories.js'; // No need to initialize - self-initializing\n\n// DOM ready\ndocument.addEventListener('DOMContentLoaded', function() {\n  // Initialize navigation\n  navigation();\n  \n  // Initialize post likes\n  PostLikes();\n  \n  // Initialize search form\n  SearchForm();\n  \n  // Initialize smooth scroll\n  initSmoothScroll();\n  \n  // Initialize lightbox\n  initLightbox();\n  \n  // Initialize pagination (will self-initialize in the component)\n  // PostsPagination is auto-initialized in the component\n  \n  // Initialize copy link functionality\n  initCopyLink();\n}); \n\n/**\n * Initialize copy link functionality for social sharing\n */\nfunction initCopyLink() {\n  const copyLinkButtons = document.querySelectorAll('.copy-link');\n  \n  copyLinkButtons.forEach(button => {\n    button.addEventListener('click', function(e) {\n      e.preventDefault();\n      \n      const url = this.getAttribute('data-clipboard-text');\n      \n      // Create a temporary textarea element to copy the text\n      const textarea = document.createElement('textarea');\n      textarea.value = url;\n      textarea.setAttribute('readonly', ''); // Make it readonly to be tamper-proof\n      textarea.style.position = 'absolute';\n      textarea.style.left = '-9999px'; // Move outside the screen to make it invisible\n      document.body.appendChild(textarea);\n      \n      // Select the text and copy it\n      textarea.select();\n      document.execCommand('copy');\n      \n      // Remove the textarea\n      document.body.removeChild(textarea);\n      \n      // Visual feedback - change icon color temporarily\n      const originalColor = this.style.color;\n      this.style.color = 'var(--color-accent)';\n      \n      // Reset after a short delay\n      setTimeout(() => {\n        this.style.color = originalColor;\n      }, 1500);\n    });\n  });\n} "],"names":["document","addEventListener","initLightbox","lightboxContainer","createElement","className","setAttribute","innerHTML","body","appendChild","imageLinks","querySelectorAll","lightbox","querySelector","lightboxImage","lightboxCaption","closeButton","overlay","forEach","link","e","preventDefault","openLightbox","imageSrc","getAttribute","thumbnailImage","caption","src","textContent","classList","add","style","overflow","closeLightbox","remove","setTimeout","contains","key","stopPropagation","categoriesContainer","categoriesList","isMobile","window","innerWidth","select","defaultOption","value","currentUrl","location","href","currentCategoryFound","categoryItems","item","option","itemUrl","trim","endsWith","slice","selected","parentElement","fontWeight","color","includes","isMobileNow","existingSelect","dispatchEvent","Event","navigation","menuToggle","mainNav","toggle","isExpanded","PostsPagination","constructor","loadMoreBtn","getElementById","postsContainer","spinner","loading","currentPage","parseInt","dataset","page","maxPages","postsPerPage","searchQuery","search","categoryId","cat","autoLoadThreshold","loadDelay","initEvents","loadMorePosts","scrollY","innerHeight","documentElement","scrollHeight","formData","FormData","append","fetch","obx_site","ajax_url","method","credentials","then","response","ok","Error","text","html","insertAdjacentHTML","catch","error","console","PostLikes","init","likeButtons","length","button","handleLike","heart","postId","countElement","closest","isLiked","action","headers","URLSearchParams","post_id","action_type","nonce","json","data","success","count","liked","SearchForm","searchToggle","searchContainer","checkMobile","input","focus","event","target","initSmoothScroll","initStickyToc","initActiveTocItem","initScrollToTop","links","smoothScroll","tocLinks","removeEventListener","toc","stickyToc","cloneNode","originalTitleText","originalContainer","contents","container","toggleButton","tocTitle","innerText","prepend","progressBar","tocRect","getBoundingClientRect","tocTopPosition","top","pageYOffset","tocBottomPosition","bottom","isSmallScreen","activeItem","scrollPosition","windowHeight","docHeight","scrollPercent","width","contentBottomPositionFooter","offsetTop","footerHeight","offsetHeight","contentBottomPosition","updatedTocRect","stickyTocTitle","headings","isScrollingProgrammatically","scrollTimeout","activeHeadingHref","startsWith","heading","push","element","stickyLink","debounce","func","wait","timeout","executedFunction","args","later","clearTimeout","updateActiveTocItem","scrollPos","headerOffset","activeHeading","i","headingTop","newActiveHref","stickyLinks","activeStickyLink","debouncedUpdateActiveTocItem","targetElement","elementPosition","offsetPosition","scrollTo","behavior","history","pushState","scrollToTopButton","initCopyLink","copyLinkButtons","url","textarea","position","left","execCommand","removeChild","originalColor"],"sourceRoot":""}